# Nmag micromagnetic simulator
# Copyright (C) 2011 University of Southampton
# Hans Fangohr, Thomas Fischbacher, Matteo Franchin and others
#
# WEB:     http://nmag.soton.ac.uk 
# CONTACT: nmag@soton.ac.uk
#
# AUTHOR(S) OF THIS FILE: Matteo Franchin
# LICENSE: GNU General Public License 2.0
#          (see <http://www.gnu.org/licenses/>)

.PHONY: all all-log clean

all:
	(cd src && $(MAKE) all)
	(cd bin && $(MAKE) all)

clean:
	(cd src && $(MAKE) clean)
	(cd bin && $(MAKE) clean)


# The target below is used in the all-from-sources tarball.
all-log:
	@echo "Compiling Nmag..."
	@$(MAKE) all >compilation.log 2>&1 \
	 && echo "Compilation successful." \
	 || echo "Error compiling Nmag. See compilation.log in the Nmag" \
	      "source directory (typically nsim) or send a bug report as" \
	      "explained at" \
	      "https://nmag.soton.ac.uk/community/wiki/nmag/Bug_report"
