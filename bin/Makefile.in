# Nmag micromagnetic simulator
# Copyright (C) 2011 University of Southampton
# Hans Fangohr, Thomas Fischbacher, Matteo Franchin and others
#
# WEB:     http://nmag.soton.ac.uk 
# CONTACT: nmag@soton.ac.uk
#
# AUTHOR(S) OF THIS FILE: Matteo Franchin
# LICENSE: GNU General Public License 2.0
#          (see <http://www.gnu.org/licenses/>)

SHELL=@BASH@

.PHONY: all install uninstall clean

NSIM_EXECS=nsim-raw nsim nmeshpp ncol nmagpp nmeshimport

# Rule to make executables from the corresponding .in files
%: %.in
	@SRCDIR@/src/nsimexec @SRCDIR@/subst.py $< $@
	 chmod u+x $@

all: 

install: $(NSIM_EXECS)
	list='$(NSIM_EXECS)'; for file in $$list; do \
	  echo "@INSTALL@ $$file @BINDIR@;"; \
	  @INSTALL@ $$file @BINDIR@/$$file.in; \
	done

uninstall:

clean:
	rm -f $(NSIM_EXECS)
